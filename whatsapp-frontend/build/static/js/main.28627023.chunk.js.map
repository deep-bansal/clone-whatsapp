{"version":3,"sources":["axios.js","firebase.js","components/Sidebar.js","components/Chat.js","components/SidebarChat.js","components/Login.js","components/Formal.js","components/Profile.js","components/Contact.js","App.js","index.js"],"names":["instance","axios","create","baseURL","auth","firebase","initializeApp","apiKey","authDomain","projectId","storageBucket","messagingSenderId","appId","firestore","provider","GoogleAuthProvider","Sidebar","user","setProfileBar","useState","drop","setDrop","rooms","setRooms","createChat","e","a","preventDefault","roomName","prompt","config","headers","post","name","useEffect","get","then","response","data","className","ButtonBase","Avatar","src","photoURL","onClick","IconButton","signOut","console","log","err","SearchOutlined","type","placeholder","addNewChat","map","room","id","_id","Chat","input","setInput","roomId","useParams","seed","setRoomName","messages","setMessages","optns","setOptns","file","setFile","contactSec","setContactSec","width","setWidth","channel","Pusher","cluster","subscribe","bind","newMessage","unbind_all","unsubscribe","currentdate","Date","sendMessage","message","displayName","timestamp","getHours","getMinutes","received","email","handleChange","target","files","handleFileSubmit","FormData","append","alert","style","flex","delete","msg","idx","doc","alt","href","InsertEmoticon","onSubmit","htmlFor","onChange","AttachFile","value","MicOutlined","SidebarChat","setSeed","setMessage","Math","floor","random","reverse","to","Login","addUser","Button","signInWithPopup","result","catch","Formal","styles","button","color","height","position","top","marginRight","paddingLeft","icon","fontSize","Profile","KeyboardBackspaceOutlined","Contact","ClearOutlined","App","setUser","profilebar","exact","path","User","ReactDOM","render","StrictMode","document","getElementById"],"mappings":"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","file":"static/js/main.28627023.chunk.js","sourcesContent":["import axios from \"axios\";\nconst instance = axios.create({\n  baseURL: \"http://localhost:9000\",\n});\n\nexport default instance;\n","import firebase from \"firebase\";\nconst firebaseConfig = {\n  apiKey: \"AIzaSyDYxKyE9oW-Ne854_GWEzewLfHlVe1ZHd8\",\n  authDomain: \"whatsapp-mern-b65cd.firebaseapp.com\",\n  projectId: \"whatsapp-mern-b65cd\",\n  storageBucket: \"whatsapp-mern-b65cd.appspot.com\",\n  messagingSenderId: \"61497501443\",\n  appId: \"1:61497501443:web:8c1b448914c7aa6ce82b36\",\n};\n\nconst firebaseApp = firebase.initializeApp(firebaseConfig);\nconst db = firebaseApp.firestore();\nconst auth = firebase.auth();\nconst provider = new firebase.auth.GoogleAuthProvider();\n\nexport { auth, provider };\nexport default db;\n","import React, { useState, useEffect } from \"react\";\nimport \"../styles/sidebar.css\";\nimport ChatIcon from \"@material-ui/icons/Chat\";\nimport DonutLargeIcon from \"@material-ui/icons/DonutLarge\";\nimport MoreVertIcon from \"@material-ui/icons/MoreVert\";\nimport { Avatar, ButtonBase, IconButton } from \"@material-ui/core\";\nimport { SearchOutlined } from \"@material-ui/icons\";\nimport axios from \"../axios\";\nimport { SidebarChat } from \"./\";\nimport { auth } from \"../firebase\";\n\nfunction Sidebar({ user, setProfileBar }) {\n  const [drop, setDrop] = useState(false);\n  const [rooms, setRooms] = useState([]);\n  const logOut = () => {\n    auth.signOut().then(\n      () => {\n        console.log(\"signout Successful\");\n      },\n      (err) => {\n        console.log(err);\n      }\n    );\n  };\n\n  const createChat = async (e) => {\n    e.preventDefault();\n    const roomName = prompt(\"Please enter name for chat\");\n    if (roomName) {\n      const config = {\n        headers: {\n          \"Content-Type\": \"application/json\",\n        },\n      };\n      await axios.post(\n        \"/rooms/new\",\n        {\n          name: roomName,\n        },\n        config\n      );\n    }\n  };\n  useEffect(() => {\n    axios.get(\"/rooms\").then((response) => {\n      setRooms(response.data);\n    });\n  }, [rooms]);\n  const handleClick = () => {\n    setDrop(!drop);\n  };\n\n  return (\n    <div className=\"sidebar\">\n      <div className=\"sidebar_header\">\n        <ButtonBase>\n          <Avatar\n            src={user.photoURL}\n            onClick={() => {\n              setProfileBar(true);\n            }}\n          />\n        </ButtonBase>\n\n        <div className=\"sidebar_headerRight\">\n          <IconButton>\n            <DonutLargeIcon />\n          </IconButton>\n          <IconButton onClick={(e) => createChat(e)}>\n            <ChatIcon />\n          </IconButton>\n          <div className=\"vertIcon\">\n            <IconButton onClick={handleClick}>\n              <MoreVertIcon />\n            </IconButton>\n            {drop && (\n              <div className=\"dropmenu_one\">\n                <ul>\n                  <li onClick={(e) => createChat(e)}>Add new chat</li>\n                  <li\n                    onClick={() => {\n                      setProfileBar(true);\n                      setDrop(false);\n                    }}\n                  >\n                    Profile\n                  </li>\n                  <li>Archived</li>\n                  <li>Settings</li>\n                  <li onClick={logOut}>Log out</li>\n                </ul>\n              </div>\n            )}\n          </div>\n        </div>\n      </div>\n      <div className=\"sidebar_search\">\n        <div className=\"sidebar_searchContainer\">\n          <SearchOutlined />\n          <input type=\"text\" placeholder=\"Search or start new chat\" />\n        </div>\n      </div>\n      <div className=\"sidebar_chats\">\n        <SidebarChat addNewChat createChat={createChat} />\n        {rooms.map((room) => (\n          <SidebarChat key={room._id} id={room._id} name={room.name} />\n        ))}\n      </div>\n    </div>\n  );\n}\n\nexport default Sidebar;\n","import { Avatar, IconButton } from \"@material-ui/core\";\nimport {\n  AttachFile,\n  InsertEmoticon,\n  MicOutlined,\n  MoreVert,\n  SearchOutlined,\n} from \"@material-ui/icons\";\nimport axios from \"../axios\";\nimport Pusher from \"pusher-js\";\nimport React, { useEffect, useState } from \"react\";\nimport \"../styles/chat.css\";\nimport { useParams } from \"react-router-dom\";\nimport { Contact } from \"./\";\nimport { Fragment } from \"react\";\n\nfunction Chat({ user }) {\n  const [input, setInput] = useState(\"\");\n  const { roomId } = useParams();\n  const { seed } = useParams();\n  const [roomName, setRoomName] = useState(\"\");\n  const [messages, setMessages] = useState([]);\n  const [drop, setDrop] = useState(false);\n  const [optns, setOptns] = useState(false);\n  const [file, setFile] = useState(null);\n  const [contactSec, setContactSec] = useState(false);\n  const [width, setWidth] = useState(\"0.7\");\n\n  useEffect(() => {\n    if (roomId) {\n      axios.get(`messages/sync/${roomId}`).then((response) => {\n        setMessages(response.data);\n      });\n    }\n  }, [roomId]);\n  useEffect(() => {\n    const pusher = new Pusher(\"1c8efe6427d0e8bf5a05\", {\n      cluster: \"eu\",\n    });\n    const channel = pusher.subscribe(\"messages\");\n    channel.bind(\"inserted\", function (newMessage) {\n      setMessages([...messages, newMessage]);\n    });\n\n    return () => {\n      channel.unbind_all();\n      channel.unsubscribe();\n    };\n  }, [messages]);\n\n  useEffect(() => {\n    if (roomId) {\n      axios.get(`/room/${roomId}`).then((response) => {\n        setRoomName(response.data[0].name);\n      });\n    }\n  }, [roomId]);\n  const currentdate = new Date();\n\n  const sendMessage = async (e) => {\n    e.preventDefault();\n\n    const config = {\n      headers: {\n        \"Content-Type\": \"application/json\",\n      },\n    };\n    await axios.post(\n      \"messages/new\",\n      {\n        message: input,\n        name: user.displayName,\n        timestamp: currentdate.getHours() + \":\" + currentdate.getMinutes(),\n        received: user.email,\n        roomId: roomId,\n      },\n      config\n    );\n    setInput(\"\");\n  };\n\n  const handleChange = async (e) => {\n    setFile(e.target.files[0]);\n  };\n\n  const handleFileSubmit = async (e) => {\n    e.preventDefault();\n\n    if (file) {\n      const data = new FormData();\n      data.append(\"name\", user.displayName);\n      data.append(\n        \"timestamp\",\n        currentdate.getHours() + \":\" + currentdate.getMinutes()\n      );\n      data.append(\"received\", user.email);\n      data.append(\"roomId\", roomId);\n      data.append(\"doc\", file);\n      await axios.post(\"/messages/fileupload\", data);\n      setFile(null);\n    } else {\n      alert(\"Please add a file\");\n      return;\n    }\n  };\n  const handleClearMessages = (e) => {\n    e.preventDefault();\n    axios.delete(`messages/clear/${roomId}`);\n    setMessages([]);\n  };\n\n  return (\n    <div className=\"chat\" style={{ flex: `${width}` }}>\n      <div className=\"chat_header\">\n        <Avatar src={`https://avatars.dicebear.com/api/human/${seed}.svg`} />\n        <div className=\"chat_headerInfo\">\n          <h3>{roomName}</h3>\n          <p>\n            Last seen at{\" \"}\n            {currentdate.getHours() + \":\" + currentdate.getMinutes()}\n          </p>\n        </div>\n        <div className=\"chat_headerRight\">\n          <IconButton>\n            <SearchOutlined />\n          </IconButton>\n          <div className=\"vertIcon\">\n            <IconButton\n              onClick={() => {\n                setDrop(!drop);\n              }}\n            >\n              <MoreVert />\n            </IconButton>\n            {drop && (\n              <div className=\"dropmenu\">\n                <ul>\n                  <li\n                    onClick={() => {\n                      setContactSec(true);\n                      setDrop(false);\n                      setWidth(\"0.4\");\n                    }}\n                  >\n                    Contact Info\n                  </li>\n                  <li onClick={handleClearMessages}>Clear Messages</li>\n                </ul>\n              </div>\n            )}\n          </div>\n        </div>\n      </div>\n      <div className=\"chat_body\">\n        {messages &&\n          messages.map((msg, idx) => {\n            return (\n              <p\n                key={idx}\n                className={`chat_message ${\n                  msg.received === user.email ? \"chat_receiver\" : \"\"\n                }`}\n              >\n                <span className=\"chat_name\">{msg.name}</span>\n                {msg.message}\n                {msg.doc && (\n                  <Fragment>\n                    <div className=\"doc\">\n                      <img\n                        className=\"doc-icon\"\n                        alt=\"doc\"\n                        src=\"https://icon-library.com/images/document-icon-images/document-icon-images-2.jpg\"\n                      />\n                      <a\n                        href={`http://localhost:9000/${msg.doc}`}\n                        // target=\"_blank\"\n                      >\n                        {msg.doc}\n                      </a>\n                    </div>\n                    <span className=\"chat_timestamp_2\">{msg.timestamp}</span>\n                  </Fragment>\n                )}\n                {!msg.doc && (\n                  <span className=\"chat_timestamp\">{msg.timestamp}</span>\n                )}\n              </p>\n            );\n          })}\n      </div>\n      <div className=\"chat_footer\">\n        <IconButton>\n          <InsertEmoticon />\n        </IconButton>\n        <div className=\"attachment\">\n          {optns && (\n            <div className=\"attachement_optns\">\n              <form onSubmit={handleFileSubmit}>\n                <label htmlFor=\"doc-input\">\n                  <img\n                    src=\"https://i.pinimg.com/originals/e2/6f/33/e26f33f35d71a5c5c23b8291d7a2b212.png\"\n                    alt=\"addDoc\"\n                  />\n                </label>\n                <input\n                  type=\"file\"\n                  name=\"file\"\n                  id=\"doc-input\"\n                  onChange={(e) => handleChange(e)}\n                />\n                <button type=\"Submit\">Upload Doc</button>\n              </form>\n            </div>\n          )}\n          <IconButton\n            className=\"attach_file\"\n            onClick={() => {\n              setOptns(!optns);\n            }}\n          >\n            <AttachFile />\n          </IconButton>\n        </div>\n        <form>\n          <input\n            value={input}\n            onChange={(e) => setInput(e.target.value)}\n            type=\"text\"\n            placeholder=\"Type a message\"\n          />\n          <button onClick={sendMessage} type=\"submit\">\n            Send a message\n          </button>\n        </form>\n        <IconButton>\n          <MicOutlined />\n        </IconButton>\n      </div>\n      {contactSec && (\n        <Contact\n          setContactSec={setContactSec}\n          setWidth={setWidth}\n          roomName={roomName}\n          seed={seed}\n        />\n      )}\n    </div>\n  );\n}\n\nexport default Chat;\n","import { Avatar } from \"@material-ui/core\";\nimport React, { useState, useEffect } from \"react\";\nimport \"../styles/sidebarChat.css\";\nimport { Link } from \"react-router-dom\";\nimport axios from \"../axios\";\n\nfunction SidebarChat({ id, name, addNewChat, createChat }) {\n  const [seed, setSeed] = useState(\"\");\n  const [messages, setMessage] = useState([]);\n  useEffect(() => {\n    setSeed(Math.floor(Math.random() * 5000));\n  }, []);\n\n  useEffect(() => {\n    axios.get(`messages/sync/${id}`).then((response) => {\n      response.data.reverse();\n      setMessage(response.data);\n    });\n  }, [id]);\n  return !addNewChat ? (\n    <Link to={`/rooms/${id}/${seed}`}>\n      <div className=\"sidebarChat\">\n        <Avatar src={`https://avatars.dicebear.com/api/human/${seed}.svg`} />\n        <div className=\"sidebarChat_info\">\n          <h2>{name}</h2>\n          <p>{messages[0]?.message}</p>\n        </div>\n      </div>\n    </Link>\n  ) : (\n    <div onClick={(e) => createChat(e)} className=\"sidebarChat\">\n      <h2>Add new Chat</h2>\n    </div>\n  );\n}\n\nexport default SidebarChat;\n","import { Button } from \"@material-ui/core\";\nimport React from \"react\";\nimport \"../styles/login.css\";\nimport { auth, provider } from \"../firebase\";\nfunction Login({ addUser }) {\n  const signIn = () => {\n    auth\n      .signInWithPopup(provider)\n      .then((result) => {\n        console.log(result);\n        addUser(result.user);\n      })\n      .catch((err) => {\n        alert(err.message);\n      });\n  };\n  return (\n    <div className=\"login\">\n      <div className=\"login_container\">\n        <img\n          src=\"https://upload.wikimedia.org/wikipedia/commons/thumb/6/6b/WhatsApp.svg/479px-WhatsApp.svg.png\"\n          alt=\"whatsapp-logo\"\n        />\n        <div className=\"login_text\">\n          <h1>Sign in to whatsapp</h1>\n        </div>\n        <br></br>\n        <Button onClick={signIn}>Sign in with Google</Button>\n      </div>\n    </div>\n  );\n}\n\nexport default Login;\n","import React from \"react\";\nimport \"../styles/formal.css\";\n\nfunction Formal() {\n  return (\n    <div className=\"formal\">\n      <img\n        src=\"https://upload.wikimedia.org/wikipedia/commons/thumb/6/6b/WhatsApp.svg/479px-WhatsApp.svg.png\"\n        alt=\"whatsapp-logo\"\n      />\n      <br></br>\n      Hi!\n      <br />\n      Welcome To whatsapp\n    </div>\n  );\n}\n\nexport default Formal;\n","import { IconButton } from \"@material-ui/core\";\nimport { KeyboardBackspaceOutlined } from \"@material-ui/icons\";\nimport React from \"react\";\nimport \"../styles/profile.css\";\n\nfunction Profile({ user, setProfileBar }) {\n  return (\n    <div className=\"profile\">\n      <div className=\"profile_header\">\n        <IconButton onClick={() => setProfileBar(false)} style={styles.button}>\n          <KeyboardBackspaceOutlined style={styles.icon} />\n        </IconButton>\n        <span>Profile</span>\n      </div>\n      <div className=\"profile_body\">\n        <div className=\"profile_pic\">\n          <img alt=\"profile_pic\" src={user.photoURL} />\n        </div>\n        <div className=\"name_sec\">\n          <span>Your Name</span>\n          <br></br>\n          <span className=\"text\">{user.displayName}</span>\n        </div>\n        <div className=\"useless_text\">\n          This is not your username or pin. This name will be visible to your\n          WhatsApp contacts.\n        </div>\n        <div className=\"name_sec about_sec\">\n          <span>About</span>\n          <br></br>\n          <span className=\"text\">Available</span>\n        </div>\n      </div>\n    </div>\n  );\n}\n\nconst styles = {\n  button: {\n    color: \"white\",\n    height: \"40px\",\n    width: \"40px\",\n    position: \"relative\",\n    top: \"8px\",\n    marginRight: \"10px\",\n    paddingLeft: 0,\n  },\n  icon: {\n    fontSize: \"40px\",\n  },\n};\n\nexport default Profile;\n","import { IconButton } from \"@material-ui/core\";\nimport { ClearOutlined } from \"@material-ui/icons\";\nimport React from \"react\";\nimport \"../styles/contact.css\";\nfunction Contact({ setContactSec, setWidth, roomName, seed }) {\n  return (\n    <div className=\"contact\">\n      <div className=\"contact_header\">\n        <IconButton\n          onClick={() => {\n            setContactSec(false);\n            setWidth(\"0.7\");\n          }}\n          style={styles.button}\n        >\n          <ClearOutlined style={styles.icon} />\n        </IconButton>\n        <span>Contact</span>\n      </div>\n      <div className=\"profile_body\">\n        <div className=\"profile_pic\">\n          <img\n            alt=\"profile_pic\"\n            src={`https://avatars.dicebear.com/api/human/${seed}.svg`}\n          />\n        </div>\n        <div className=\"name_sec\">\n          <span>Contact Name</span>\n          <br></br>\n          <span className=\"text\">{roomName}</span>\n        </div>\n        <div className=\"name_sec about_sec\">\n          <span>About</span>\n          <br></br>\n          <span className=\"text\">Available</span>\n        </div>\n      </div>\n    </div>\n  );\n}\n\nconst styles = {\n  button: {\n    height: \"40px\",\n    width: \"40px\",\n    position: \"relative\",\n    top: \"8px\",\n    marginRight: \"10px\",\n    paddingLeft: 0,\n  },\n  icon: {\n    fontSize: \"40px\",\n  },\n};\n\nexport default Contact;\n","import React, { useState } from \"react\";\nimport \"./App.css\";\nimport { Sidebar, Chat, Login, Formal, Profile } from \"./components\";\nimport { Switch, BrowserRouter as Router, Route } from \"react-router-dom\";\n\nfunction App() {\n  const [user, setUser] = useState(null);\n  const [profilebar, setProfileBar] = useState(false);\n  const addUser = (User) => {\n    setUser(User);\n    console.log(User);\n  };\n  return (\n    <div className=\"App\">\n      {!user ? (\n        <Login addUser={addUser} />\n      ) : (\n        <div className=\"app_body\">\n          <Router>\n            <Sidebar user={user} setProfileBar={setProfileBar} />\n            {profilebar && (\n              <Profile user={user} setProfileBar={setProfileBar} />\n            )}\n            <Switch>\n              <Route exact path=\"/\">\n                <Formal />\n              </Route>\n              <Route path=\"/rooms/:roomId/:seed\">\n                <Chat user={user} />\n              </Route>\n            </Switch>\n          </Router>\n        </div>\n      )}\n    </div>\n  );\n}\n\nexport default App;\n","import React from \"react\";\nimport ReactDOM from \"react-dom\";\nimport \"./index.css\";\nimport App from \"./App\";\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById(\"root\")\n);\n"],"sourceRoot":""}